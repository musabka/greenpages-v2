# ููุงุญุธุงุช ุงูุชูููุฐ - ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ

## ูุง ุชู ุฅูุฌุงุฒู

### 1. Foundation Layer (ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ) โ

ุชู ุจูุงุก ุทุจูุฉ ุฃุณุงุณูุฉ ูููุฉ ูุจู ุงูุจุฏุก ุจุตูุญุงุช CRUDุ ููุฐุง ูููุฑ ุฃุณุงุจูุน ูู ุงูุนูู ูุงุญูุงู:

#### ูุธุงู ุงููุตุงุฏูุฉ ุงููุงูู
- **JWT Authentication**: ุชุณุฌูู ุฏุฎูู ูุน Access Token + Refresh Token
- **Auto Token Refresh**: ุชุญุฏูุซ ุชููุงุฆู ููุชููู ุนูุฏ ุงูุชูุงุก ุตูุงุญูุชู
- **Role-Based Access**: ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ (ADMIN, AGENT, USER)
- **Secure Storage**: ุชุฎุฒูู ุขูู ูู localStorage
- **Logout Flow**: ุชุณุฌูู ุฎุฑูุฌ ูุงูู ูุน ุชูุธูู ุงูุจูุงูุงุช

#### API Client ููุญุฏ
- **Unified Fetch Wrapper**: ุบูุงู ููุญุฏ ูุฌููุน ุทูุจุงุช API
- **Auto Authentication**: ุฅุถุงูุฉ ุชููุงุฆูุฉ ูู Authorization header
- **Error Handling**: ูุนุงูุฌุฉ ููุญุฏุฉ ููุฃุฎุทุงุก
- **Token Refresh**: ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุทูุจ ุจุนุฏ ุชุญุฏูุซ ุงูุชููู
- **Type Safety**: ุฏุนู ูุงูู ูู TypeScript

#### ูุธุงู ุงูุตูุงุญูุงุช (RBAC UI-level)
- **Permission Enum**: ุชุนุฑูู ูุงุถุญ ูุฌููุน ุงูุตูุงุญูุงุช
- **Role Mapping**: ุฑุจุท ุงูุฃุฏูุงุฑ ุจุงูุตูุงุญูุงุช
- **Route Protection**: ุญูุงูุฉ ุงููุณุงุฑุงุช ุจูุงุกู ุนูู ุงูุตูุงุญูุงุช
- **UI Conditional Rendering**: ุฅุฎูุงุก/ุฅุธูุงุฑ ุงูุนูุงุตุฑ ุญุณุจ ุงูุตูุงุญูุงุช

#### ูุธุงู ุงูุชุฎุทูุท (Layout System)
- **Sidebar Navigation**: ูุงุฆูุฉ ุฌุงูุจูุฉ ุฏููุงููููุฉ ุญุณุจ ุงูุตูุงุญูุงุช
- **Header Component**: ุฑุฃุณ ุงูุตูุญุฉ ูุน ูุนูููุงุช ุงููุณุชุฎุฏู
- **Admin Layout**: ุชุฎุทูุท ููุญุฏ ูุฌููุน ุงูุตูุญุงุช ุงูุฅุฏุงุฑูุฉ
- **Route Guards**: ุญูุงูุฉ ุชููุงุฆูุฉ ูููุณุงุฑุงุช

### 2. ููููุงุช UI ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู โ

#### AdminDataTable
ุฌุฏูู ุจูุงูุงุช ุดุงูู ูููู ุงุณุชุฎุฏุงูู ูู 70% ูู ุงูุตูุญุงุช:
- **Pagination**: ุชุฑููู ุตูุญุงุช ุงุญุชุฑุงูู
- **Sorting**: ุชุฑุชูุจ ุงูุจูุงูุงุช (ูุงุจู ููุชูุณุน)
- **Filtering**: ุชุตููุฉ ูุจุญุซ
- **Bulk Actions**: ุฅุฌุฑุงุกุงุช ุฌูุงุนูุฉ ูุน ุชุญุฏูุฏ ูุชุนุฏุฏ
- **Custom Columns**: ุฃุนูุฏุฉ ูุงุจูุฉ ููุชุฎุตูุต
- **Loading States**: ุญุงูุงุช ุงูุชุญููู
- **Empty States**: ุฑุณุงุฆู ุนูุฏ ุนุฏู ูุฌูุฏ ุจูุงูุงุช
- **Responsive**: ูุชุฌุงูุจ ูุน ุฌููุน ุงูุดุงุดุงุช

#### ููููุงุช UI ุงูุฃุณุงุณูุฉ
- **Button**: ุฃุฒุฑุงุฑ ุจุฃููุงุท ูุชุนุฏุฏุฉ
- **Input**: ุญููู ุฅุฏุฎุงู
- **Card**: ุจุทุงูุงุช ูุนุฑุถ ุงููุญุชูู
- ุฌููุน ุงูููููุงุช ุชุฏุนู RTL ููุนุฑุจูุฉ

### 3. ุงูุจููุฉ ุงููุนูุงุฑูุฉ ุงูุงุญุชุฑุงููุฉ โ

#### ูุตู ุงูุงูุชูุงูุงุช (Separation of Concerns)
```
/app              โ Pages (orchestration)
/components       โ Reusable UI
/lib              โ Business logic & utilities
/hooks            โ Custom React hooks (ูุฑูุจุงู)
/services         โ API services (ูุฑูุจุงู)
```

ูุฐุง ูููุน:
- ุชุถุฎู ุงููููุงุช
- ุชูุฑุงุฑ ุงูููุฏ (copy-paste)
- ุตุนูุจุฉ ุงูุตูุงูุฉ

#### ุฃูุถู ุงูููุงุฑุณุงุช
- **TypeScript**: ูุชุงุจุฉ ุขููุฉ ูู ูู ููุงู
- **Client/Server Separation**: ูุตู ูุงุถุญ ุจูู client ู server
- **Error Boundaries**: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก (ูุงุจู ููุชูุณุน)
- **Loading States**: ุญุงูุงุช ุชุญููู ูุงุถุญุฉ
- **Accessibility**: ุฏุนู ุฅููุงููุฉ ุงููุตูู

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Core
- **Next.js 16.0.10**: ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุณุชูุฑ (ุฏูุณูุจุฑ 2024)
- **React 19**: ุฃุญุฏุซ ุฅุตุฏุงุฑ
- **TypeScript 5.7**: ุฃุญุฏุซ ุฅุตุฏุงุฑ

### Styling
- **Tailwind CSS 4.0**: ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุน ุฃุฏุงุก ูุญุณูู
- **CSS Variables**: ููุซููุงุช ูุงูุฃููุงู
- **RTL Support**: ุฏุนู ูุงูู ููุนุฑุจูุฉ

### Forms & Validation
- **React Hook Form**: ูุฅุฏุงุฑุฉ ุงูููุงุฐุฌ
- **Zod**: ููุชุญูู ูู ุงูุจูุงูุงุช
- **@hookform/resolvers**: ููุฑุจุท ุจูู ุงูุงุซููู

### UI & Icons
- **Lucide React**: ููุชุจุฉ ุฃููููุงุช ุญุฏูุซุฉ
- **clsx + tailwind-merge**: ูุฏูุฌ ุงูููุงุณุงุช

## ูุง ูุฌุจ ูุนูู ูุงุญูุงู

### ุงููุฑุญูุฉ ุงูุชุงููุฉ: ุตูุญุงุช CRUD

ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญุช ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ ุฌุงูุฒุฉุ ูููู ุจูุงุก ุตูุญุงุช CRUD ุจุณุฑุนุฉ:

#### 1. ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ (Geography)
- ุตูุญุฉ ูุงุฆูุฉ ุงููุญุงูุธุงุช
- ุตูุญุฉ ูุงุฆูุฉ ุงููุฏู
- ุตูุญุฉ ูุงุฆูุฉ ุงูุฃุญูุงุก
- ููุงุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู
- ุนุฑุถ ุงููููู ุงููุฑูู

#### 2. ุงูุชุตูููุงุช (Categories)
- ุนุฑุถ ุดุฌุฑู ููุชุตูููุงุช
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู
- ุฅุฏุงุฑุฉ ุงูุชุตูููุงุช ุงููุฑุนูุฉ

#### 3. ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ (Businesses)
- ูุงุฆูุฉ ูุน ุจุญุซ ูููุงุชุฑ
- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุดุงูู
- ุฑูุน ุงูุตูุฑ
- ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช

#### 4. ุงูุจุงูุงุช (Plans)
- ูุงุฆูุฉ ุงูุจุงูุงุช
- ุฅุฏุงุฑุฉ ุงููููุฒุงุช
- ุชุญุฏูุฏ ุงูุจุงูุฉ ุงูุงูุชุฑุงุถูุฉ

#### 5. ุงูุฅุนูุงูุงุช (Ads)
- ุฅุฏุงุฑุฉ ุงูุญููุงุช ุงูุฅุนูุงููุฉ
- ุชูุงุฑูุฑ ุงูุฃุฏุงุก
- ุฅุนุฏุงุฏุงุช ุงูุงุณุชูุฏุงู

#### 6. ุงููุงููุฉ (Finance)
- ุชูุงุฑูุฑ ุฐูู ุงูููุฏูุจูู
- ูุนุงูุฌุฉ ุงูุชุณููุงุช
- ุณุฌู ุงูุนูููุงุช ุงููุงููุฉ

#### 7. ุงููุฑุงุฌุนุงุช (Reviews)
- ูุงุฆูุฉ ุงููุฑุงุฌุนุงุช ุงููุนููุฉ
- ุงูููุงููุฉ/ุงูุฑูุถ
- ุฅุฏุงุฑุฉ ุงูุจูุงุบุงุช

#### 8. ุงูุจูุงุบุงุช (Reports)
- ูุงุฆูุฉ ุงูุจูุงุบุงุช
- ุณูุฑ ุนูู ุงูุญู
- ุงูุฅุญุตุงุฆูุงุช

#### 9. ุงูุฅุนุฏุงุฏุงุช (Settings)
- ุฅุฏุงุฑุฉ Feature Toggles
- ูุญุฑุฑ ุฅุนุฏุงุฏุงุช Blocks
- ุฅุฏุงุฑุฉ ุงูุชุฑุฌูุงุช

#### 10. ุงูุฅุดุนุงุฑุงุช (Notifications)
- ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู
- ุงุณุชูุฏุงู ุดุฑุงุฆุญ ุงููุณุชุฎุฏููู

## ูุตุงุฆุญ ููุชุทููุฑ

### ุงุณุชุฎุฏุงู AdminDataTable

```typescript
import { AdminDataTable, Column } from '@/components/data-table/admin-data-table';

const columns: Column<Business>[] = [
  { key: 'name', title: 'ุงูุงุณู' },
  { key: 'category', title: 'ุงูุชุตููู', render: (item) => item.category.name },
  { key: 'phone', title: 'ุงููุงุชู' },
];

<AdminDataTable
  data={businesses}
  columns={columns}
  searchable
  searchPlaceholder="ุจุญุซ ูู ุงูุฃูุดุทุฉ..."
  pagination={{
    page: 1,
    pageSize: 10,
    total: 100,
    onPageChange: (page) => console.log(page),
  }}
  actions={(item) => (
    <Button size="sm">ุชุนุฏูู</Button>
  )}
/>
```

### ุงุณุชุฎุฏุงู API Client

```typescript
import { apiClient } from '@/lib/api-client';

// GET request
const businesses = await apiClient.get<Business[]>('/businesses');

// POST request
const newBusiness = await apiClient.post<Business>('/businesses', {
  name: 'ูุดุงุท ุฌุฏูุฏ',
  categoryId: '123',
});

// Error handling
try {
  await apiClient.delete(`/businesses/${id}`);
} catch (error) {
  if (error instanceof ApiError) {
    console.log(error.statusCode, error.errorCode, error.message);
  }
}
```

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช

```typescript
import { hasPermission, Permission } from '@/lib/permissions';
import { getCurrentUser } from '@/lib/auth';

const user = getCurrentUser();

if (hasPermission(user.role, Permission.MANAGE_BUSINESSES)) {
  // ุนุฑุถ ุฒุฑ ุงูุฅุถุงูุฉ
}
```

## ุงูููุงุญุธุงุช ุงููุนูุงุฑูุฉ

### Auth Logic = Server-Only
- ุงููุตุงุฏูุฉ ุชุชู ุนูู ุงูุฎุงุฏู ููุท
- ุงูุชูููุงุช ุชูุฎุฒู ุจุดูู ุขูู
- ูุง ูุฑุณู ูููุงุช ุงููุฑูุฑ ุฃุจุฏุงู ูู client-side

### UI Permissions = Client-Side
- ุงูุตูุงุญูุงุช ุนูู ูุณุชูู UI ุชูุดุชู ูู ุงูุชููู
- ุฅุฎูุงุก/ุฅุธูุงุฑ ุงูุนูุงุตุฑ ุญุณุจ ุงูุฏูุฑ
- ุงูุญูุงูุฉ ุงูุญููููุฉ ุนูู ุงูุฎุงุฏู

### Sections ูุงุถุญุฉ ููุตูุญุงุช ุงูุญุณุงุณุฉ
- ุงูุฅุนูุงูุงุช: Badges ููุญุงูุฉุ Confirmation modals
- ุงููุงููุฉ: ุชุฃููุฏุงุช ุฅูุฒุงููุฉ ููุชุณููุงุช
- ุงูุฅุฌุฑุงุกุงุช ุงูุญุณุงุณุฉ: ุฏุงุฆูุงู ุชุชุทูุจ ุชุฃููุฏ

## ุงูุฎูุงุตุฉ

ุชู ุจูุงุก ุฃุณุงุณ ููู ูุงุญุชุฑุงูู ูููุฑ:
- โ ููุช ุงูุชุทููุฑ (ุฃุณุงุจูุน)
- โ ุฌูุฏุฉ ุงูููุฏ
- โ ุณูููุฉ ุงูุตูุงูุฉ
- โ ูุงุจููุฉ ุงูุชูุณุน
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุชุณูุฉ

ุงูุขู ูููู ุงูุจุฏุก ุจุจูุงุก ุตูุญุงุช CRUD ุจุณุฑุนุฉ ูุซูุฉ! ๐
